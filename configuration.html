<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2014-07-09 
 | Rendered using Apache Maven Fluido Skin 1.3.1
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20140709" />
    <meta http-equiv="Content-Language" content="en" />
    <title>needle4j - hhh - Configuration</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.3.1.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.3.1.min.js"></script>

    
                  </head>
        <body class="topBarDisabled">
          
    
    
            
    
        
    <a href="http://github.com/needle4j/needle4j">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;"
        src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png"
        alt="Fork me on GitHub">
    </a>
  
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                <div id="bannerLeft">
                <h2>needle4j</h2>
                </div>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                  <li id="publishDate">Last Published: 2014-07-09
                      <span class="divider">|</span>
                   </li>
                  <li id="projectVersion">Version: 2.3
                          <span class="divider">|</span>
                      </li>
                                          <li class="">
                    <a href="./" title="Home">
        Home</a>
                    <span class="divider">/</span>
      </li>
        <li class="active ">Configuration</li>
                
                
                    
      
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">Main</li>
                              
      <li>
  
                          <a href="index.html" title="Overview">
          <i class="none"></i>
        Overview</a>
            </li>
                
      <li>
  
                          <a href="license.html" title="License">
          <i class="none"></i>
        License</a>
            </li>
                              <li class="nav-header">Documentation</li>
                              
      <li>
  
                          <a href="getting-started.html" title="Getting started">
          <i class="none"></i>
        Getting started</a>
            </li>
                
      <li class="active">
  
            <a href="#"><i class="none"></i>Configuration</a>
          </li>
                
      <li>
  
                          <a href="needle-testcase.html" title="Needle Testcase">
          <i class="none"></i>
        Needle Testcase</a>
            </li>
                
      <li>
  
                          <a href="database-testing.html" title="Database Testing">
          <i class="none"></i>
        Database Testing</a>
            </li>
                
      <li>
  
                          <a href="mock-objectsg.html" title="Testing with Mock objects">
          <i class="none"></i>
        Testing with Mock objects</a>
            </li>
                              <li class="nav-header">Development</li>
                              
      <li>
  
                          <a href="apidocs/index.html" title="JavaDoc">
          <i class="none"></i>
        JavaDoc</a>
            </li>
                
      <li>
  
                          <a href="http://github.com/needle4j/needle4j/" class="externalLink" title="GitHub project">
          <i class="none"></i>
        GitHub project</a>
            </li>
                
      <li>
  
                          <a href="issue-tracking.html" title="Issue tracking">
          <i class="none"></i>
        Issue tracking</a>
            </li>
                
      <li>
  
                          <a href="project-info.html" title="Project info">
          <i class="none"></i>
        Project info</a>
            </li>
                
      <li>
  
                          <a href="project-reports.html" title="project-reports">
          <i class="none"></i>
        project-reports</a>
            </li>
            </ul>
                
                    
                
          <hr />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span9" >
                                  
            <h1>Configuration</h1>
<p>This chapter describes how to set up and configure your <b>needle4j</b> tests.</p>
<div class="section">
<h2>Requirements<a name="Requirements"></a></h2>

<ul>
  
<li>Ensure that you have a <a class="externalLink" href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">JDK6+</a> installed.</li>
</ul></div>
<div class="section">
<h2>Maven dependency configuration<a name="Maven_dependency_configuration"></a></h2>
<p>If you are using <a class="externalLink" href="http://maven.apache.org/">Maven</a> as your build tool add the following single dependency to your pom.xml file to get started with Needle4j (see <a href="dependency-info.html">dependency info</a>):</p>

<div class="source">
<pre>&lt;dependency&gt;
   &lt;groupId&gt;org.needle4j&lt;/groupId&gt;
   &lt;artifactId&gt;needle4j&lt;/artifactId&gt;
   &lt;scope&gt;test&lt;/scope&gt;
   &lt;version&gt;${needle4j.version}&lt;/version&gt;
&lt;/dependency&gt;
</pre></div>
<p>Where <tt>needle4j.version</tt> currently should have the value &#x201c;${project.version}&#x201d;. Check for the most current version at the <a class="externalLink" href="http://mvnrepository.com/artifact/org.needle4j/needle4j">maven central repo</a>.</p>
<p>To reduce complexity Needle4j has no transitive dependencies, and does thus not restrict you to use specific versions of JUnit or TestNG. On the other hand, you will have to explicitly configure dependencies for the test scope, for example, to Hibernate as the JPA provider.</p></div>
<div class="section">
<h2>Needle configuration properties<a name="Needle_configuration_properties"></a></h2>
<p>The Needle4j default configuration may be modified in a <tt>needle.properties</tt> file in the classpath root. I.e., Needle will look for a file <tt>/needle.properties</tt> somewhere in the classpath.</p>
<div class="section">
<h3>Configuration of additional custom injection annotations and injection provider.<a name="Configuration_of_additional_custom_injection_annotations_and_injection_provider."></a></h3>

<table border="0" class="table table-striped">
  <thead>
    
<tr class="a">
      
<th>Property Name </th>
      
<th>Description</th>
    </tr>
  </thead>
  <tbody>
    
<tr class="b">
      
<td>custom.injection.annotations </td>
      
<td>Comma separated list of the fully qualified name of the annotation classes. A standard mock provider will be created for each annotation.</td>
    </tr>
    
<tr class="a">
      
<td>custom.injection.provider.classes </td>
      
<td>Comma separated list of the fully qualified name of the injection provider implementations.</td>
    </tr>
    
<tr class="b">
      
<td>custom.instances.supplier.classes </td>
      
<td>Comma separated list of the fully qualified name of the instances supplier implementations.</td>
    </tr>
  </tbody>
</table></div>
<div class="section">
<h3>Configuration of mock provider.<a name="Configuration_of_mock_provider."></a></h3>

<table border="0" class="table table-striped">
  <thead>
    
<tr class="a">
      
<th>Property Name </th>
      
<th>Description</th>
    </tr>
  </thead>
  <tbody>
    
<tr class="b">
      
<td>mock.provider </td>
      
<td>The fully qualified name of an implementation of the MockProvider interface. There is an implementation of EasyMock</td>
    </tr>
  </tbody>
</table>
<p>org.needle4j.mock.EasyMockProvider and Mockito org.needle4j.mock.MockitoProvider. <b>EasyMock is the default configuration.</b></p></div>
<div class="section">
<h3>Configuration of JPA, Database operation and JDBC connection.<a name="Configuration_of_JPA_Database_operation_and_JDBC_connection."></a></h3>

<table border="0" class="table table-striped">
  <thead>
    
<tr class="a">
      
<th>Property Name </th>
      
<th>Description</th>
    </tr>
  </thead>
  <tbody>
    
<tr class="b">
      
<td>mock.provider </td>
      
<td>The fully qualified name of an implementation of the MockProvider interface. There is an implementation of EasyMock org.needle4j.mock.EasyMockProvider and Mockito org.needle4j.mock.MockitoProvider. <b>EasyMock is the default configuration.</b></td>
    </tr>
    
<tr class="a">
      
<td>persistenceUnit.name </td>
      
<td>The persistence unit name. Default is TestDataModel</td>
    </tr>
    
<tr class="b">
      
<td>hibernate.cfg.filename </td>
      
<td>XML configuration file to configure Hibernate (eg. /hibernate.cfg.xml)</td>
    </tr>
    
<tr class="a">
      
<td>db.operation </td>
      
<td>Optional database operation on test setup and tear down. Value is the fully qualified name of an implementation of the</td>
    </tr>
  </tbody>
</table>
<p>AbstractDBOperation base class. There is an implementation for script execution org.needle4j.db.operation.ExecuteScriptOperation and for the HSQL DB to delete all tables org.needle4j.db.operation.hsql.HSQLDeleteOperation. jdbc.url | The JDBC driver specific connection url. jdbc.driver | The fully qualified class name of the driver class. jdbc.user | The JDBC user name used for the database connection. jdbc.password | The JDBC password used for the database connection.</p>
<p>The JDBC configuration properties are only required if database operation and JPA 1.0 are used. Otherwise, the JDBC properties are related to the standard property names of JPA 2.0.</p></div>
<div class="section">
<h3>Example configuration<a name="Example_configuration"></a></h3>
<p>A typical <tt>needle.properties</tt> file might look like this:</p>

<div class="source">
<pre>db.operation=de.akquinet.jbosscc.needle.db.operation.hsql.HSQLDeleteOperation
jdbc.driver=org.hsqldb.jdbcDriver
jdbc.url=jdbc:hsqldb:mem:memoryDB
jdbc.user=sa
jdbc.password=
</pre></div></div></div>
<div class="section">
<h2>Logging<a name="Logging"></a></h2>
<p>Needle4j uses the Simple Logging Facade for Java (SLF4J). <a class="externalLink" href="http://www.slf4j.org/manual.html">SLF4J</a> serves as a simple facade or abstraction for various logging frameworks. The SLF4J distribution ships with several JAR files referred to as &#x201c;SLF4J bindings&#x201d;, with each binding corresponding to a supported framework.</p>
<p>For logging within the test, the following optional dependency may be added to the classpath:</p>

<div class="source">
<pre>&lt;dependency&gt;
   &lt;groupId&gt;org.slf4j&lt;/groupId&gt;
   &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;
   &lt;scope&gt;test&lt;/scope&gt;
&lt;/dependency&gt;
</pre></div></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                              <p >Copyright &copy;                   2014.
          All rights reserved.      
                    
      </p>
        </div>

        
        
                </div>
    </footer>
        </body>
</html>
